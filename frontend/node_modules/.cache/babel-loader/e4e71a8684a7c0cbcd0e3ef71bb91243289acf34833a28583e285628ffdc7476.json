{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  setLoading(true);\n  setError(null);\n  try {\n    const response = await axios.post('http://localhost:3000/api/auth/signin', {\n      email,\n      password\n    });\n    console.log(\"Respuesta del servidor:\", response.data);\n    if (response.data.accessToken) {\n      // Nota: En tu backend es accessToken, no token\n      localStorage.setItem('accessToken', response.data.accessToken);\n      localStorage.setItem('user', JSON.stringify({\n        id: response.data.id,\n        email: response.data.email,\n        role: response.data.role\n      }));\n      window.location.href = '/dashboard';\n    }\n  } catch (err) {\n    var _err$response, _err$response2, _err$response3, _err$response3$data;\n    console.error(\"Error completo:\", {\n      message: err.message,\n      response: (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data,\n      status: (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status\n    });\n    setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Error de autenticación');\n  } finally {\n    setLoading(false);\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","setLoading","setError","response","axios","post","email","password","console","log","data","accessToken","localStorage","setItem","JSON","stringify","id","role","window","location","href","err","_err$response","_err$response2","_err$response3","_err$response3$data","error","message","status"],"sources":["C:/xampp/htdocs/proyecto-auth2ok/frontend/src/components/LoginForm.js"],"sourcesContent":["const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  setLoading(true);\r\n  setError(null);\r\n\r\n  try {\r\n    const response = await axios.post('http://localhost:3000/api/auth/signin', {\r\n      email,\r\n      password\r\n    });\r\n\r\n    console.log(\"Respuesta del servidor:\", response.data);\r\n    \r\n    if (response.data.accessToken) { // Nota: En tu backend es accessToken, no token\r\n      localStorage.setItem('accessToken', response.data.accessToken);\r\n      localStorage.setItem('user', JSON.stringify({\r\n        id: response.data.id,\r\n        email: response.data.email,\r\n        role: response.data.role\r\n      }));\r\n      window.location.href = '/dashboard';\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error completo:\", {\r\n      message: err.message,\r\n      response: err.response?.data,\r\n      status: err.response?.status\r\n    });\r\n    setError(err.response?.data?.message || 'Error de autenticación');\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,UAAU,CAAC,IAAI,CAAC;EAChBC,QAAQ,CAAC,IAAI,CAAC;EAEd,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,uCAAuC,EAAE;MACzEC,KAAK;MACLC;IACF,CAAC,CAAC;IAEFC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEN,QAAQ,CAACO,IAAI,CAAC;IAErD,IAAIP,QAAQ,CAACO,IAAI,CAACC,WAAW,EAAE;MAAE;MAC/BC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEV,QAAQ,CAACO,IAAI,CAACC,WAAW,CAAC;MAC9DC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAC;QAC1CC,EAAE,EAAEb,QAAQ,CAACO,IAAI,CAACM,EAAE;QACpBV,KAAK,EAAEH,QAAQ,CAACO,IAAI,CAACJ,KAAK;QAC1BW,IAAI,EAAEd,QAAQ,CAACO,IAAI,CAACO;MACtB,CAAC,CAAC,CAAC;MACHC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,YAAY;IACrC;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IAAA,IAAAC,aAAA,EAAAC,cAAA,EAAAC,cAAA,EAAAC,mBAAA;IACZjB,OAAO,CAACkB,KAAK,CAAC,iBAAiB,EAAE;MAC/BC,OAAO,EAAEN,GAAG,CAACM,OAAO;MACpBxB,QAAQ,GAAAmB,aAAA,GAAED,GAAG,CAAClB,QAAQ,cAAAmB,aAAA,uBAAZA,aAAA,CAAcZ,IAAI;MAC5BkB,MAAM,GAAAL,cAAA,GAAEF,GAAG,CAAClB,QAAQ,cAAAoB,cAAA,uBAAZA,cAAA,CAAcK;IACxB,CAAC,CAAC;IACF1B,QAAQ,CAAC,EAAAsB,cAAA,GAAAH,GAAG,CAAClB,QAAQ,cAAAqB,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAcd,IAAI,cAAAe,mBAAA,uBAAlBA,mBAAA,CAAoBE,OAAO,KAAI,wBAAwB,CAAC;EACnE,CAAC,SAAS;IACR1B,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}